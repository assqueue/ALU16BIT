module compare (
    input a[16],
    input b[16],
    input alufn[4],
    output s[16]
) {
    always {
        case (alufn) {
            4b0011: s = a == b; // CMPEQ, out = z
            4b0101: s = a < b; // CMPLT, n ^ v
            4b0111: s = a <= b; // CMPLE, z | (n ^ v)
            default: s = 0;
        }
    }
}